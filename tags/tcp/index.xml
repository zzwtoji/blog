<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>TCP on zzw</title>
        <link>https://megumi8821.netlify.app/tags/tcp/</link>
        <description>Recent content in TCP on zzw</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>zh-cn</language>
        <copyright>megumi8821</copyright>
        <lastBuildDate>Mon, 24 Nov 2025 09:05:14 +0800</lastBuildDate><atom:link href="https://megumi8821.netlify.app/tags/tcp/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>HTTP 与 TCP、UDP 的差异</title>
        <link>https://megumi8821.netlify.app/p/http-%E4%B8%8E-tcpudp-%E7%9A%84%E5%B7%AE%E5%BC%82/</link>
        <pubDate>Mon, 24 Nov 2025 09:05:14 +0800</pubDate>
        
        <guid>https://megumi8821.netlify.app/p/http-%E4%B8%8E-tcpudp-%E7%9A%84%E5%B7%AE%E5%BC%82/</guid>
        <description>&lt;img src="https://megumi8821.netlify.app/img/ComputerNetworks.svg" alt="Featured image of post HTTP 与 TCP、UDP 的差异" /&gt;&lt;h2 id=&#34;协议所属网络层&#34;&gt;协议所属网络层
&lt;/h2&gt;&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th&gt;协议&lt;/th&gt;
          &lt;th&gt;网络层级&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td&gt;HTTP&lt;/td&gt;
          &lt;td&gt;应用层&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;TCP&lt;/td&gt;
          &lt;td&gt;运输层&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;UDP&lt;/td&gt;
          &lt;td&gt;运输层&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;连接特性&#34;&gt;连接特性
&lt;/h2&gt;&lt;h3 id=&#34;连接方式&#34;&gt;连接方式
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;HTTP：间接连接，HTTP 在请求/响应前需先通过 TCP 建立连接，再传输数据。&lt;/li&gt;
&lt;li&gt;TCP：面向连接，传输前需通过三次握手建立连接，四次挥手断开连接。&lt;/li&gt;
&lt;li&gt;UDP：无连接，直接发送数据，无需断开流程。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;连接持续性&#34;&gt;连接持续性
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;HTTP
&lt;ul&gt;
&lt;li&gt;HTTP/1.0：短连接，每次请求后断开 TCP 连接。&lt;/li&gt;
&lt;li&gt;HTTP/1.1：长连接，同一域名下多个请求复用一个 TCP 连接。&lt;/li&gt;
&lt;li&gt;HTTP/2：多路复用，多个请求在一个 TCP 连接上并发传输。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;TCP：建立连接后保持连接状态，可持续传输多批数据，直到双方发起断开请求。&lt;/li&gt;
&lt;li&gt;UDP：每次发送数据都是独立的数据包，无连接保持逻辑。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;可靠性&#34;&gt;可靠性
&lt;/h2&gt;&lt;h3 id=&#34;http&#34;&gt;HTTP
&lt;/h3&gt;&lt;p&gt;依赖 TCP 实现可靠性。&lt;/p&gt;
&lt;p&gt;HTTP 本身不具备重传、校验机制，数据是否丢失、有序，完全由底层 TCP 负责。&lt;/p&gt;
&lt;h3 id=&#34;tcp&#34;&gt;TCP
&lt;/h3&gt;&lt;p&gt;可靠传输。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;确认机制：接收方发 ACK 确认数据送达。&lt;/li&gt;
&lt;li&gt;重传机制：超时未收到 ACK 则重传数据。&lt;/li&gt;
&lt;li&gt;有序传输：通过序号标记数据顺序，接收方按序重组。&lt;/li&gt;
&lt;li&gt;流量控制：防止发送方过快发送数据，避免接收方缓存溢出。&lt;/li&gt;
&lt;li&gt;拥塞控制：根据网络状况调整发送速率，防止网络拥塞。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;udp&#34;&gt;UDP
&lt;/h3&gt;&lt;p&gt;不可靠传输。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;无确认机制：发送数据后不等待接收方确认，无法确认数据是否送达。&lt;/li&gt;
&lt;li&gt;无重传机制：数据丢失后不进行重传。&lt;/li&gt;
&lt;li&gt;无序传输：数据包可能乱序到达，接收方需自行处理顺序问题。&lt;/li&gt;
&lt;li&gt;无流量控制和拥塞控制：发送方按自身速率发送数据，可能导致接收方丢包。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;数据完整性&#34;&gt;数据完整性
&lt;/h2&gt;&lt;h3 id=&#34;http-1&#34;&gt;HTTP
&lt;/h3&gt;&lt;p&gt;依赖 TCP 的校验。&lt;/p&gt;
&lt;p&gt;HTTP 数据完整性由 TCP 帧尾的 FCS 校验来保障，其自身仅通过部分头信息字段来辅助检测数据完整性。&lt;/p&gt;
&lt;h3 id=&#34;tcp-1&#34;&gt;TCP
&lt;/h3&gt;&lt;p&gt;多层校验。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;TCP 校验：检测端到端的传输错误，检验整个 TCP 段。&lt;/li&gt;
&lt;li&gt;FCS 校验：检测链路层传输错误，检验整个帧。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;udp-1&#34;&gt;UDP
&lt;/h3&gt;&lt;p&gt;基础校验。&lt;/p&gt;
&lt;p&gt;UDP 头部含校验和字段，仅对数据报进行简单校验，校验失败则直接丢弃，不反馈、不重传。&lt;/p&gt;
&lt;h2 id=&#34;传输效率&#34;&gt;传输效率
&lt;/h2&gt;&lt;h3 id=&#34;http-2&#34;&gt;HTTP
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;HTTP/1.0：每次请求建立新连接，开销大，效率低。&lt;/li&gt;
&lt;li&gt;HTTP/1.1：长连接复用，减少连接开销，提高效率。&lt;/li&gt;
&lt;li&gt;HTTP/2：多路复用，多个请求并发传输，进一步提升效率。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;tcp-2&#34;&gt;TCP
&lt;/h3&gt;&lt;p&gt;效率低：连接建立和维护开销大，拥塞控制和流量控制机制降低传输速率。&lt;/p&gt;
&lt;h3 id=&#34;udp-2&#34;&gt;UDP
&lt;/h3&gt;&lt;p&gt;效率高：无连接开销，无拥塞和流量控制，数据报头部仅 8 字节。&lt;/p&gt;
&lt;h2 id=&#34;适用场景&#34;&gt;适用场景
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;HTTP
&lt;ul&gt;
&lt;li&gt;网页加载&lt;/li&gt;
&lt;li&gt;API 通信&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;TCP
&lt;ul&gt;
&lt;li&gt;可靠数据传输&lt;/li&gt;
&lt;li&gt;远程登录&lt;/li&gt;
&lt;li&gt;文件传输&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;UDP
&lt;ul&gt;
&lt;li&gt;实时通信&lt;/li&gt;
&lt;li&gt;视频直播&lt;/li&gt;
&lt;li&gt;在线游戏&lt;/li&gt;
&lt;li&gt;DNS 查询&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;数据格式与传输单元&#34;&gt;数据格式与传输单元
&lt;/h2&gt;&lt;h3 id=&#34;http-3&#34;&gt;HTTP
&lt;/h3&gt;&lt;h4 id=&#34;数据格式&#34;&gt;数据格式
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;请求报文
&lt;ul&gt;
&lt;li&gt;请求行：请求方法+请求路径+协议版本&lt;/li&gt;
&lt;li&gt;请求头：键值对形式的元数据，用于告知服务器请求的附加信息。&lt;/li&gt;
&lt;li&gt;请求体：可选部分，常用于 POST 请求，用来传递表单数据、JSON 等内容。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;响应报文
&lt;ul&gt;
&lt;li&gt;状态行：协议版本+状态码+状态描述&lt;/li&gt;
&lt;li&gt;响应头：键值对形式的元数据，用于告知客户端响应的附加信息。&lt;/li&gt;
&lt;li&gt;响应体：服务器返回的实际数据内容，如 HTML 页面、JSON 数据等。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;传输单元&#34;&gt;传输单元
&lt;/h4&gt;&lt;p&gt;HTTP 本身没有专属传输单元。发送方将 HTTP 的整份报文拆成若干部分，融进 TCP 的字节流。接收方再通过 TCP 重组字节流，还原成完整的 HTTP 报文。&lt;/p&gt;
&lt;h3 id=&#34;tcp-3&#34;&gt;TCP
&lt;/h3&gt;&lt;h4 id=&#34;数据格式-1&#34;&gt;数据格式
&lt;/h4&gt;&lt;p&gt;TCP 不关心应用层数据的具体格式，不论是 HTTP 报文还是文件数据，都会统一封装成 TCP 段。&lt;/p&gt;
&lt;p&gt;每个 TCP 段的头部至少 20 字节，包含源端口、目标端口、序列号和确认号等关键信息。&lt;/p&gt;
&lt;h4 id=&#34;传输单元-1&#34;&gt;传输单元
&lt;/h4&gt;&lt;p&gt;TCP 的传输单元是 TCP 段。段的大小受 MTU 限制。TCP 总长度超出 MTU 后就会被拆分成多个段传输。&lt;/p&gt;
&lt;h3 id=&#34;udp-3&#34;&gt;UDP
&lt;/h3&gt;&lt;h4 id=&#34;数据格式-2&#34;&gt;数据格式
&lt;/h4&gt;&lt;p&gt;UDP 不关心应用层数据的具体格式，任何数据都可以封装成 UDP 数据报。&lt;/p&gt;
&lt;p&gt;每个 UDP 数据报的头部固定 8 字节，只包含源端口、目标端口、数据包长度、校验和 4 个字段。&lt;/p&gt;
&lt;h4 id=&#34;传输单元-2&#34;&gt;传输单元
&lt;/h4&gt;&lt;p&gt;UDP 的传输单元是 UDP 数据报。每个数据报独立传输，大小受 MTU 限制，超出部分会被丢弃。&lt;/p&gt;
&lt;h2 id=&#34;端口号与通信对象&#34;&gt;端口号与通信对象
&lt;/h2&gt;&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th style=&#34;text-align: center&#34;&gt;协议&lt;/th&gt;
          &lt;th&gt;端口号范围&lt;/th&gt;
          &lt;th&gt;通信对象&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: center&#34;&gt;HTTP&lt;/td&gt;
          &lt;td&gt;80（未加密）&lt;br&gt;443（加密）&lt;/td&gt;
          &lt;td&gt;应用层的客户端和服务器，通过域名+端口定位服务器应用&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: center&#34;&gt;TCP&lt;/td&gt;
          &lt;td&gt;无默认端口，由应用层协议指定&lt;br&gt;SSH：22&lt;/td&gt;
          &lt;td&gt;基于“源 IP+源端口+目标 IP+目标端口”定位端到端连接，实现两台设备间的双向通信&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: center&#34;&gt;UDP&lt;/td&gt;
          &lt;td&gt;无默认端口，由应用层协议指定&lt;br&gt;DNS：53&lt;br&gt;DHCP：67/68&lt;/td&gt;
          &lt;td&gt;基于“源 IP+源端口+目标 IP+目标端口”定位通信对象，仅单向发送数据报&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;应用场景&#34;&gt;应用场景
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;HTTP
&lt;ul&gt;
&lt;li&gt;网页浏览&lt;/li&gt;
&lt;li&gt;接口调用&lt;/li&gt;
&lt;li&gt;文件下载&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;TCP
&lt;ul&gt;
&lt;li&gt;文件传输&lt;/li&gt;
&lt;li&gt;邮件收发&lt;/li&gt;
&lt;li&gt;远程登录&lt;/li&gt;
&lt;li&gt;HTTP/1.0/1.1/2 的传输载体&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;UDP
&lt;ul&gt;
&lt;li&gt;实时通信&lt;/li&gt;
&lt;li&gt;视频直播&lt;/li&gt;
&lt;li&gt;在线游戏&lt;/li&gt;
&lt;li&gt;DNS 查询&lt;/li&gt;
&lt;li&gt;HTTP/3 的传输载体&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;协议间的依赖关系&#34;&gt;协议间的依赖关系
&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;HTTP 与 TCP 的依赖：HTTP 所有数据必须通过 TCP 连接传输，TCP 为 HTTP 提供可靠的数据通道。&lt;/li&gt;
&lt;li&gt;HTTP 与 UDP 的关系：HTTP 本身不使用 UDP 进行传输，但 HTTP/3 采用 QUIC 协议，QUIC 基于 UDP 实现，提供类似 TCP 的可靠传输功能。&lt;/li&gt;
&lt;/ol&gt;
</description>
        </item>
        
    </channel>
</rss>
